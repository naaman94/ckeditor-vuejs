<!DOCTYPE html><!--
	Copyright (c) 2014-2020, CKSource - Frederico Knabben. All rights reserved.
	This file is licensed under the terms of the MIT License (see LICENSE.md).
-->

<html lang="en" dir="ltr"></html>
<head>
	<title>CKEditor 5 ClassicEditor build</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="icon" type="image/png" href="https://c.cksource.com/a/1/logos/ckeditor5.png">
	<link rel="stylesheet" type="text/css" href="styles.css">
    <style>
        .demo-update {
            border: 1px solid var(--ck-color-base-border);
            border-radius: var(--ck-border-radius);
            box-shadow: 2px 2px 0px hsla( 0, 0%, 0%, 0.1 );
            margin: 1.5em 0;
            padding: 1em;
        }

        .demo-update h3 {
            font-size: 18px;
            font-weight: bold;
            margin: 0 0 .5em;
            padding: 0;
        }

        .demo-update .ck-editor__editable_inline {
            border: 1px solid hsla( 0, 0%, 0%, 0.15 );
            transition: background .5s ease-out;
            min-height: 6em;
            margin-bottom: 1em;
        }

        .demo-update__controls {
            display: flex;
            flex-direction: row;
            align-items: center;
        }

        .demo-update__chart {
            margin-right: 1em;
        }

        .demo-update__chart__circle {
            transform: rotate(-90deg);
            transform-origin: center;
        }

        .demo-update__chart__characters {
            font-size: 13px;
            font-weight: bold;
        }

        .demo-update__words {
            flex-grow: 1;
            opacity: .5;
        }

        .demo-update__limit-close .demo-update__chart__circle {
            stroke: hsl( 30, 100%, 52% );
        }

        .demo-update__limit-exceeded .ck.ck-editor__editable_inline {
            background: hsl( 0, 100%, 97% );
        }

        .demo-update__limit-exceeded .demo-update__chart__circle {
            stroke: hsl( 0, 100%, 52% );
        }

        .demo-update__limit-exceeded .demo-update__chart__characters {
            fill: hsl( 0, 100%, 52% );
        }
    </style>
</head>
<body data-editor="ClassicEditor" data-collaboration="false">
	<header>
		<div class="centered">
			<h1><a href="https://ckeditor.com/ckeditor-5/" target="_blank" rel="noopener noreferrer"><img src="https://c.cksource.com/a/1/logos/ckeditor5.svg" alt="CKEditor 5 logo">CKEditor 5</a></h1>
			<nav>
				<ul>
					<li><a href="https://ckeditor.com/docs/ckeditor5/" target="_blank" rel="noopener noreferrer">Documentation</a></li>
					<li><a href="https://ckeditor.com/" target="_blank" rel="noopener noreferrer">Website</a></li>
				</ul>
			</nav>
		</div>
	</header>
	<main>
		<div class="message">
			<div class="centered">
				<h2>CKEditor 5 online builder demo - ClassicEditor build</h2>
			</div>
		</div>
		<div class="centered">
			<div class="row row-editor">
                <div class="demo-update">
                    <h3>Post editor with word count</h3>
                    <textarea id="demo-update__editor">
                        <p>Tourists frequently admit that <a href="https://en.wikipedia.org/wiki/Taj_Mahal">Taj Mahal</a> “simply cannot be described with words”.</p>
                    </textarea>
                    <div class="demo-update__controls">
                        <span class="demo-update__words"></span>
                        <svg class="demo-update__chart" viewbox="0 0 40 40" width="40" height="40" xmlns="http://www.w3.org/2000/svg">
                            <circle stroke="hsl(0, 0%, 93%)" stroke-width="3" fill="none" cx="20" cy="20" r="17" />
                            <circle class="demo-update__chart__circle" stroke="hsl(202, 92%, 59%)" stroke-width="3" stroke-dasharray="134,534" stroke-linecap="round" fill="none" cx="20" cy="20" r="17" />
                            <text class="demo-update__chart__characters" x="50%" y="50%" dominant-baseline="central" text-anchor="middle"></text>
                        </svg>
                    </div>
                </div>
<!--                <div class="editor">-->
<!--					<h2>Bilingual Personality Disorder</h2>-->
<!--					<p>-->
<!--						This may be the first time you hear about this made-up disorder but-->
<!--						it actually isn’t so far from the truth. Even the studies that were conducted almost half a century show that-->
<!--						<strong>the language you speak has more effects on you than you realise</strong>.-->
<!--					</p>-->
<!--					<p>-->
<!--						One of the very first experiments conducted on this topic dates back to 1964.-->
<!--						<a href="https://www.researchgate.net/publication/9440038_Language_and_TAT_content_in_bilinguals">In the experiment</a>-->
<!--						designed by linguist Ervin-Tripp who is an authority expert in psycholinguistic and sociolinguistic studies,-->
<!--						adults who are bilingual in English in French were showed series of pictures and were asked to create 3-minute stories.-->
<!--						In the end participants emphasized drastically different dynamics for stories in English and French.-->
<!--					</p>-->
<!--					<p>-->
<!--						Another ground-breaking experiment which included bilingual Japanese women married to American men in San Francisco were-->
<!--						asked to complete sentences. The goal of the experiment was to investigate whether or not human feelings and thoughts-->
<!--						are expressed differently in <strong>different language mindsets</strong>.-->
<!--						<Here>is a sample from the the experiment:</Here>-->
<!--					</p>-->
<!--					<p>-->
<!--						More recent <a href="https://books.google.pl/books?id=1LMhWGHGkRUC">studies</a> show, the language a person speaks affects-->
<!--						their cognition, behaviour, emotions and hence <strong>their personality</strong>.-->
<!--						This shouldn’t come as a surprise-->
<!--						<a href="https://en.wikipedia.org/wiki/Lateralization_of_brain_function">since we already know</a> that different regions-->
<!--						of the brain become more active depending on the person’s activity at hand. Since structure, information and especially-->
<!--						<strong>the culture</strong> of languages varies substantially and the language a person speaks is an essential element of daily life.-->
<!--					</p>-->
<!--				</div>-->
			</div></div>

	</main>
	<footer>
		<p><a href="https://ckeditor.com/ckeditor-5/" target="_blank" rel="noopener">CKEditor 5</a>
			– Rich text editor of tomorrow, available today
		</p>
		<p>Copyright © 2003-2020,
			<a href="https://cksource.com/" target="_blank" rel="noopener">CKSource</a>
			– Frederico Knabben. All rights reserved.
		</p>
	</footer>
	<script src="../build/ckeditor.js"></script>
	<script>
        const maxCharacters = 120;
        const container = document.querySelector( '.demo-update' );
        const progressCircle = document.querySelector( '.demo-update__chart__circle' );
        const charactersBox = document.querySelector( '.demo-update__chart__characters' );
        const wordsBox = document.querySelector( '.demo-update__words' );
        const circleCircumference = Math.floor( 2 * Math.PI * progressCircle.getAttribute( 'r' ) );

        ClassicEditor

            .create( document.querySelector( '#demo-update__editor' ), {
                toolbar: {
                    items: [
                        'heading',
                        '|',
                        'bold',
                        'italic',
                        'underline',
                        '|',
                        'fontSize',
                        'fontColor',
                        'highlight',
                        '|',
                        'bulletedList',
                        'numberedList',
                        '|',
                        'alignment',
                        'indent',
                        'outdent',
                        '|',
                        'mediaEmbed',
                        'link',
                        '|',
                        'undo',
                        'redo'
                    ]
                },
                language: 'ar',
                licenseKey: '',
                wordCount: {
                    onUpdate: stats => {
                        const charactersProgress = stats.characters / maxCharacters * circleCircumference;
                        const isLimitExceeded = stats.characters > maxCharacters;
                        const isCloseToLimit = !isLimitExceeded && stats.characters > maxCharacters * .8;
                        const circleDashArray = Math.min( charactersProgress, circleCircumference );

                        // Set the stroke of the circle to show how many characters were typed.
                        progressCircle.setAttribute( 'stroke-dasharray', `${ circleDashArray },${ circleCircumference }` );

                        // Display the number of characters in the progress chart. When the limit is exceeded,
                        // display how many characters should be removed.
                        if ( isLimitExceeded ) {
                            charactersBox.textContent = `-${ stats.characters - maxCharacters }`;
                        } else {
                            charactersBox.textContent = stats.characters;
                        }

                        wordsBox.textContent = `Words in the post: ${ stats.words }`;

                        // If the content length is close to the character limit, add a CSS class to warn the user.
                        container.classList.toggle( 'demo-update__limit-close', isCloseToLimit );

                        // If the character limit is exceeded, add a CSS class that makes the content's background red.
                        container.classList.toggle( 'demo-update__limit-exceeded', isLimitExceeded );

                        // If the character limit is exceeded, disable the send button.
                    }
                }
            } )
            .catch( error => {
                console.error( 'Oops, something gone wrong!' );
                console.error( 'Please, report the following error in the https://github.com/ckeditor/ckeditor5 with the build id and the error stack trace:' );
                console.warn( 'Build id: 40buqvp13p7y-uuhnvkxaieyq' );
                console.error( error );
            } );




















        ClassicEditor
			.create( document.querySelector( '.editor' ), {

				toolbar: {
					items: [
						'heading',
						'|',
						'bold',
						'italic',
						'underline',
						'|',
						'fontSize',
						'fontColor',
						'highlight',
						'|',
						'bulletedList',
						'numberedList',
						'|',
						'alignment',
						'indent',
						'outdent',
						'|',
						'mediaEmbed',
						'link',
						'|',
						'undo',
						'redo'
					]
				},
				language: 'ar',
				licenseKey: '',

			} )
			.then( editor => {
				window.editor = editor;
                const wordCountPlugin = editor.plugins.get( 'WordCount' );
                console.log(wordCountPlugin.characters);
                // const wordCountWrapper = document.getElementById( 'word-count' );

                // wordCountWrapper.appendChild( wordCountPlugin.wordCountContainer );



			} )
			.catch( error => {
				console.error( 'Oops, something gone wrong!' );
				console.error( 'Please, report the following error in the https://github.com/ckeditor/ckeditor5 with the build id and the error stack trace:' );
				console.warn( 'Build id: 40buqvp13p7y-uuhnvkxaieyq' );
				console.error( error );
			} );
	</script>
</body>
